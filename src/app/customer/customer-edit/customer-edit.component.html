<header>
  <h3>{{ pageHeader }}</h3>
</header>
<form (ngSubmit)="onSubmit(customerForm)" #customerForm="ngForm" class="customer-form">
  <div class="row mt-4">
    <div class="col-12">
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input
          type="text"
          id="firstName"
          class="form-control"
          name="firstName"
          #firstName="ngModel"
          ngModel
          required
        >
        <div
          class="alert alert-danger"
          [hidden]="firstName.valid || !firstName.touched"
        >First Name is required</div>
      </div>
      <div class="form-group">
        <label for="lastName">Last Name</label>
        <input
          type="text"
          id="lastName"
          class="form-control"
          name="lastName"
          #lastName="ngModel"
          ngModel
          required
        >
        <div
          class="alert alert-danger"
          [hidden]="lastName.valid || !lastName.touched"
        >Last Name is required</div>
      </div>
      <div class="form-group">
        <label for="gender">Gender</label>
        <select
          type="text"
          id="gender"
          class="form-control"
          name="gender"
          #gender="ngModel"
          ngModel
          required
        >
          <option value="" selected>Select gender</option>
          <option value="male">Male</option>
          <option value="fenmale">Female</option>
        </select>
        <div
          class="alert alert-danger"
          [hidden]="gender.valid || !gender.touched"
        >Choose Gender</div>
      </div>
      <div class="form-group">
        <label for="address">Address</label>
        <input
          type="text"
          id="address"
          class="form-control"
          name="address"
          #address="ngModel"
          ngModel
          required
        >
        <div
          class="alert alert-danger"
          [hidden]="address.valid || !address.touched"
        >Address is required</div>
      </div>
      <div class="form-group">
        <label for="city">City</label>
        <input
          type="text"
          id="city"
          class="form-control"
          name="city"
          #city="ngModel"
          ngModel
          required
        >
        <div
          class="alert alert-danger"
          [hidden]="city.valid || !city.touched"
        >City is required</div>
      </div>
      <div class="form-group">
        <label for="state">State</label>
        <select
          type="text"
          id="state"
          class="form-control"
          name="state"
          #state="ngModel"
          [(ngModel)]="selectedStateAbbr"
          required
          (change)="updateSelectedState(selectedStateAbbr)"
        >
          <option
            value=""
            selected
          >Select State</option>
          <option
            *ngFor="let state of states; let i = index"
            [value]="state.abbreviation"
          >{{ state.name }}</option>
        </select>
        <div
          class="alert alert-danger"
          [hidden]="state.valid || !state.touched"
        >Choose State</div>
      </div>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-12">
      <button
        type="submit"
        class="btn btn-primary mr-3"
      >Save</button>
      <button
        type="button" 
        class="btn btn-warning mr-3"
        (click)="onReset(customerForm)"
      >Reset</button>
      <button
        type="button" 
        class="btn btn-danger"
        *ngIf="customer"
        (click)="deleteMessageEnabled = true"
      >Delete</button>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-12">
      <div class="alert alert-warning" *ngIf="editMode && deleteMessageEnabled">
        Delete Customer?&nbsp;&nbsp;
        <button class="btn btn-danger" (click)="onDelete($event)">Yes</button>&nbsp;&nbsp;
        <button class="btn btn-info" (click)="deleteMessageEnabled = false">No</button>
      </div>
    </div>
  </div>
</form>
